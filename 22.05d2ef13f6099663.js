"use strict";(self.webpackChunkbackbase_weather_exercise=self.webpackChunkbackbase_weather_exercise||[]).push([[22],{1022:(wt,q,h)=>{h.r(q),h.d(q,{WeatherModule:()=>yt});var f=h(9808);class P{constructor(a,e,i,s,o,r,c,l,d,_,b){this.id=a,this.name=e,this.icon=i,this.description=s,this.temp=o,this.windSpeed=r,this.humidity=c,this.pressure=l,this.lat=_,this.lon=b,this.hour=new Date(1e3*d)}static fromOpenWeather(a){return new P(a.id,a.name,a.weather[0].icon,a.weather[0].main,a.main.temp,a.wind.speed,a.main.humidity,a.main.pressure,a.dt,a.coord.lat,a.coord.lon)}}class F{constructor(a){this.hourly=a}static fromOpenWeather(a){return new F((n=>{const a=n.hourly.map(e=>({temp:e.temp,hour:new Date(1e3*e.dt).getHours(),windSpeed:e.wind_speed,pressure:e.pressure,humidity:e.humidity,clouds:e.clouds}));return a.length=12,a})(a))}}var t=h(5e3),U=h(1151),he=h(4629),H=h(9300),S=h(5698),de=h(2367),pe=h(8075),m=h(3075),K=h(7423),x=h(4106),T=h(9776),u=h(508),j=h(5494),B=h(5664),v=h(3191),w=h(7579);class J{constructor(a=!1,e,i=!0){this._multiple=a,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new w.x,e&&e.length&&(a?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...a){this._verifyValueAssignment(a),a.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...a){this._verifyValueAssignment(a),a.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(a){this.isSelected(a)?this.deselect(a):this.select(a)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(a){return this._selection.has(a)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(a){this._multiple&&this.selected&&this._selected.sort(a)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(a){this.isSelected(a)||(this._multiple||this._unmarkAll(),this._selection.add(a),this._emitChanges&&this._selectedToEmit.push(a))}_unmarkSelected(a){this.isSelected(a)&&(this._selection.delete(a),this._emitChanges&&this._deselectedToEmit.push(a))}_unmarkAll(){this.isEmpty()||this._selection.forEach(a=>this._unmarkSelected(a))}_verifyValueAssignment(a){}}var g=h(1159),ue=h(9770),M=h(6451),L=h(8675),z=h(3900),G=h(4004),me=h(1884),C=h(2722),p=h(1777),Q=h(226);const ge=["trigger"],_e=["panel"];function fe(n,a){if(1&n&&(t.TgZ(0,"span",8),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(e.placeholder)}}function ve(n,a){if(1&n&&(t.TgZ(0,"span",12),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.triggerValue)}}function Ce(n,a){1&n&&t.Hsn(0,0,["*ngSwitchCase","true"])}function be(n,a){if(1&n&&(t.TgZ(0,"span",9),t.YNc(1,ve,2,1,"span",10),t.YNc(2,Ce,1,0,"ng-content",11),t.qZA()),2&n){const e=t.oxw();t.Q6J("ngSwitch",!!e.customTrigger),t.xp6(2),t.Q6J("ngSwitchCase",!0)}}function ye(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",13),t.TgZ(1,"div",14,15),t.NdJ("@transformPanel.done",function(s){return t.CHM(e),t.oxw()._panelDoneAnimatingStream.next(s.toState)})("keydown",function(s){return t.CHM(e),t.oxw()._handleKeydown(s)}),t.Hsn(3,1),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("@transformPanelWrap",void 0),t.xp6(1),t.Gre("mat-select-panel ",e._getPanelTheme(),""),t.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),t.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),t.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const xe=[[["mat-select-trigger"]],"*"],Me=["mat-select-trigger","*"],$={transformPanelWrap:(0,p.X$)("transformPanelWrap",[(0,p.eR)("* => void",(0,p.IO)("@transformPanel",[(0,p.pV)()],{optional:!0}))]),transformPanel:(0,p.X$)("transformPanel",[(0,p.SB)("void",(0,p.oB)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),(0,p.SB)("showing",(0,p.oB)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),(0,p.SB)("showing-multiple",(0,p.oB)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),(0,p.eR)("void => *",(0,p.jt)("120ms cubic-bezier(0, 0, 0.2, 1)")),(0,p.eR)("* => void",(0,p.jt)("100ms 25ms linear",(0,p.oB)({opacity:0})))])};let X=0;const I=256,te=new t.OlP("mat-select-scroll-strategy"),Se=new t.OlP("MAT_SELECT_CONFIG"),Te={provide:te,deps:[T.aV],useFactory:function Ee(n){return()=>n.scrollStrategies.reposition()}};class Ie{constructor(a,e){this.source=a,this.value=e}}const Oe=(0,u.Kr)((0,u.sb)((0,u.Id)((0,u.FD)(class{constructor(n,a,e,i,s){this._elementRef=n,this._defaultErrorStateMatcher=a,this._parentForm=e,this._parentFormGroup=i,this.ngControl=s}})))),De=new t.OlP("MatSelectTrigger");let ke=(()=>{class n extends Oe{constructor(e,i,s,o,r,c,l,d,_,b,W,xt,Mt,O){var Z,N,V;super(r,o,l,d,b),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=s,this._dir=c,this._parentFormField=_,this._liveAnnouncer=Mt,this._defaultOptions=O,this._panelOpen=!1,this._compareWith=(y,Y)=>y===Y,this._uid="mat-select-"+X++,this._triggerAriaLabelledBy=null,this._destroy=new w.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+X++,this._panelDoneAnimatingStream=new w.x,this._overlayPanelClass=(null===(Z=this._defaultOptions)||void 0===Z?void 0:Z.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(V=null===(N=this._defaultOptions)||void 0===N?void 0:N.disableOptionCentering)&&void 0!==V&&V,this.ariaLabel="",this.optionSelectionChanges=(0,ue.P)(()=>{const y=this.options;return y?y.changes.pipe((0,L.O)(y),(0,z.w)(()=>(0,M.T)(...y.map(Y=>Y.onSelectionChange)))):this._ngZone.onStable.pipe((0,S.q)(1),(0,z.w)(()=>this.optionSelectionChanges))}),this.openedChange=new t.vpe,this._openedStream=this.openedChange.pipe((0,H.h)(y=>y),(0,G.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,H.h)(y=>!y),(0,G.U)(()=>{})),this.selectionChange=new t.vpe,this.valueChange=new t.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==O?void 0:O.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=O.typeaheadDebounceInterval),this._scrollStrategyFactory=xt,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(W)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){var e,i,s,o;return null!==(o=null!==(e=this._required)&&void 0!==e?e:null===(s=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===s?void 0:s.hasValidator(m.kI.required))&&void 0!==o&&o}set required(e){this._required=(0,v.Ig)(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=(0,v.Ig)(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=(0,v.Ig)(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=(0,v.su)(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new J(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,me.x)(),(0,C.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,C.R)(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe((0,L.O)(null),(0,C.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const s=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?s.setAttribute("aria-labelledby",e):s.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var e,i;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(i=this._selectionModel)||void 0===i?void 0:i.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,s=i===g.JH||i===g.LH||i===g.oh||i===g.SV,o=i===g.K5||i===g.L_,r=this._keyManager;if(!r.isTyping()&&o&&!(0,g.Vb)(e)||(this.multiple||e.altKey)&&s)e.preventDefault(),this.open();else if(!this.multiple){const c=this.selected;r.onKeydown(e);const l=this.selected;l&&c!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,s=e.keyCode,o=s===g.JH||s===g.LH,r=i.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(r||s!==g.K5&&s!==g.L_||!i.activeItem||(0,g.Vb)(e))if(!r&&this._multiple&&s===g.A&&e.ctrlKey){e.preventDefault();const c=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(c?l.select():l.deselect())})}else{const c=i.activeItemIndex;i.onKeydown(e),this._multiple&&o&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==c&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,S.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(s=>{if(this._selectionModel.isSelected(s))return!1;try{return null!=s.value&&this._compareWith(s.value,e)}catch(o){return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new B.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe((0,C.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe((0,C.R)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,M.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,C.R)(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,M.T)(...this.options.map(i=>i._stateChanges)).pipe((0,C.R)(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const s=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(s!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),s!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,s)=>this.sortComparator?this.sortComparator(i,s,e):e.indexOf(i)-e.indexOf(s)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(s=>s.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();let s=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(s+=" "+this.ariaLabelledby),s}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(j.rL),t.Y36(t.sBO),t.Y36(t.R0b),t.Y36(u.rD),t.Y36(t.SBq),t.Y36(Q.Is,8),t.Y36(m.F,8),t.Y36(m.sg,8),t.Y36(x.G_,8),t.Y36(m.a5,10),t.$8M("tabindex"),t.Y36(te),t.Y36(B.Kd),t.Y36(Se,8))},n.\u0275dir=t.lG2({type:n,viewQuery:function(e,i){if(1&e&&(t.Gf(ge,5),t.Gf(_e,5),t.Gf(T.pI,5)),2&e){let s;t.iGM(s=t.CRH())&&(i.trigger=s.first),t.iGM(s=t.CRH())&&(i.panel=s.first),t.iGM(s=t.CRH())&&(i._overlayDir=s.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[t.qOj,t.TTD]}),n})(),Re=(()=>{class n extends ke{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,s){const o=this._getItemHeight();return Math.min(Math.max(0,o*e-i+o/2),s)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,C.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,S.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=(0,u.CB)(e,this.options,this.optionGroups),s=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:(0,u.jH)((e+i)*s,s,this.panel.nativeElement.scrollTop,I)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new Ie(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),s=this._isRtl(),o=this.multiple?56:32;let r;if(this.multiple)r=40;else if(this.disableOptionCentering)r=16;else{let d=this._selectionModel.selected[0]||this.options.first;r=d&&d.group?32:16}s||(r*=-1);const c=0-(e.left+r-(s?o:0)),l=e.right+r-i.width+(s?0:o);c>0?r+=c+8:l>0&&(r-=l+8),this._overlayDir.offsetX=Math.round(r),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,s){const o=this._getItemHeight(),r=(o-this._triggerRect.height)/2,c=Math.floor(I/o);let l;return this.disableOptionCentering?0:(l=0===this._scrollTop?e*o:this._scrollTop===s?(e-(this._getItemCount()-c))*o+(o-(this._getItemCount()*o-I)%o):i-o/2,Math.round(-1*l-r))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),s=this._viewportRuler.getViewportSize(),o=this._triggerRect.top-8,r=s.height-this._triggerRect.bottom-8,c=Math.abs(this._offsetY),d=Math.min(this._getItemCount()*i,I)-c-this._triggerRect.height;d>r?this._adjustPanelUp(d,r):c>o?this._adjustPanelDown(c,o,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const s=Math.round(e-i);this._scrollTop-=s,this._offsetY-=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,s){const o=Math.round(e-i);if(this._scrollTop+=o,this._offsetY+=o,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=s)return this._scrollTop=s,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),s=Math.min(i*e,I),r=i*e-s;let c;c=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),c+=(0,u.CB)(c,this.options,this.optionGroups);const l=s/2;this._scrollTop=this._calculateOverlayScroll(c,l,r),this._offsetY=this._calculateOverlayOffsetY(c,l,r),this._checkOverlayWithinViewport(r)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let a;return function(i){return(a||(a=t.n5z(n)))(i||n)}}(),n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,s){if(1&e&&(t.Suo(s,De,5),t.Suo(s,u.ey,5),t.Suo(s,u.K7,5)),2&e){let o;t.iGM(o=t.CRH())&&(i.customTrigger=o.first),t.iGM(o=t.CRH())&&(i.options=o),t.iGM(o=t.CRH())&&(i.optionGroups=o)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,i){1&e&&t.NdJ("keydown",function(o){return i._handleKeydown(o)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(t.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),t.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[t._Bn([{provide:x.Eo,useExisting:n},{provide:u.HF,useExisting:n}]),t.qOj],ngContentSelectors:Me,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(t.F$t(xe),t.TgZ(0,"div",0,1),t.NdJ("click",function(){return i.toggle()}),t.TgZ(3,"div",2),t.YNc(4,fe,2,1,"span",3),t.YNc(5,be,3,2,"span",4),t.qZA(),t.TgZ(6,"div",5),t._UZ(7,"div",6),t.qZA(),t.qZA(),t.YNc(8,ye,4,14,"ng-template",7),t.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const s=t.MAs(1);t.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),t.xp6(3),t.Q6J("ngSwitch",i.empty),t.uIk("id",i._valueId),t.xp6(1),t.Q6J("ngSwitchCase",!0),t.xp6(1),t.Q6J("ngSwitchCase",!1),t.xp6(3),t.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",s)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},directives:[T.xu,f.RF,f.n9,f.ED,T.pI,f.mk],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[$.transformPanelWrap,$.transformPanel]},changeDetection:0}),n})(),Pe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[Te],imports:[[f.ez,T.U8,u.Ng,u.BQ],j.ZD,x.lN,u.Ng,u.BQ]}),n})();var E=h(7232);function Fe(n,a){if(1&n&&(t.TgZ(0,"mat-option",13),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function He(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"form",2),t.TgZ(2,"div",3),t.TgZ(3,"button",4),t.NdJ("click",function(){return t.CHM(e),t.oxw().emitSearch()}),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.qZA(),t.TgZ(6,"mat-form-field",5),t.TgZ(7,"mat-select",6),t.NdJ("selectionChange",function(s){return t.CHM(e),t.oxw().selectionChanged(s)}),t.YNc(8,Fe,2,2,"mat-option",7),t.qZA(),t.qZA(),t.TgZ(9,"div",8),t.TgZ(10,"div",9),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"b",10),t._uU(14),t.ALo(15,"date"),t.qZA(),t.qZA(),t.TgZ(16,"div",11),t.TgZ(17,"button",12),t.NdJ("click",function(){return t.CHM(e),t.oxw().updateApiKey()}),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.form),t.xp6(2),t.Q6J("disabled",!e.isNotEmpty),t.xp6(1),t.hij(" ",t.lcZ(5,8,"WEATHER.FILTER_BAR.SHOW_WEATHER")," "),t.xp6(3),t.Q6J("multiple",!0),t.xp6(1),t.Q6J("ngForOf",e.availableCities),t.xp6(3),t.Oqu(t.lcZ(12,10,"WEATHER.FILTER_BAR.LAST_SEARCH")),t.xp6(3),t.Oqu(e.currentDate?t.xi3(15,12,e.currentDate,"short"):"-"),t.xp6(4),t.hij(" ",t.lcZ(19,15,"WEATHER.FILTER_BAR.UPDATE_API_KEY")," ")}}let Be=(()=>{class n{constructor(e,i,s,o){this.citiesStore=e,this.weatherApiKeyStore=i,this.cd=s,this.fb=o,this.search=new t.vpe}ngOnInit(){this.citiesStore.cities.pipe((0,H.h)(Boolean),(0,S.q)(1)).subscribe(e=>this.initView(e))}get cities(){return this.form.get("cities")}get isNotEmpty(){var e,i;return!!(null===(i=null===(e=this.cities)||void 0===e?void 0:e.value)||void 0===i?void 0:i.length)}emitSearch(){var e;!this.isNotEmpty||(this.currentDate=new Date,this.search.emit(null===(e=this.cities)||void 0===e?void 0:e.value.toString()))}updateApiKey(){this.weatherApiKeyStore.updateApiKeyManually()}selectionChanged({value:e}){var i;e.length>5&&(null===(i=this.cities)||void 0===i||i.patchValue(e.slice(0,5)))}initView(e){this.form=this.fb.group({cities:[]}),this.availableCities=e,this.showView=!0,this.cd.detectChanges()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(de.t),t.Y36(pe.b),t.Y36(t.sBO),t.Y36(m.qu))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-weather-api-bar"]],outputs:{search:"search"},decls:1,vars:1,consts:[["class","p-5 border-violet-200 border-2 rounded-md bg-violet-50",4,"ngIf"],[1,"p-5","border-violet-200","border-2","rounded-md","bg-violet-50"],["novalidate","",1,"card-body","w-full","flex","flex-col","md:flex-row","lg:flex-row","items-center","justify-between",3,"formGroup"],[1,"w-full","sm:w-auto"],["type","button","mat-raised-button","","color","primary",1,"w-full",3,"disabled","click"],[1,"w-full","pl-5"],["formControlName","cities",3,"multiple","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"flex","flex-col","last-search","items-center","justify-center"],[1,"pl-4"],[1,"pl-4","whitespace-nowrap"],[1,"w-full","sm:w-auto","pl-0","sm:pl-3","pt-3","sm:pt-0"],["type","button","mat-raised-button","","color","primary",1,"w-full",3,"click"],[3,"value"]],template:function(e,i){1&e&&t.YNc(0,He,20,17,"div",0),2&e&&t.Q6J("ngIf",i.showView)},directives:[f.O5,m._Y,m.JL,m.sg,K.lW,x.KE,Re,m.JJ,m.u,f.sg,u.ey],pipes:[E.X$,f.uU],styles:["@keyframes showAnimation{0%{opacity:0;visibility:hidden}to{opacity:1;visibility:visible}}[_nghost-%COMP%]{animation:.5s ease-in showAnimation;margin:.5em}[_nghost-%COMP%]   .last-search[_ngcontent-%COMP%]{min-width:150px}"],changeDetection:0}),n})();const Le=function(n){return{"bg-violet-200":n}},We=function(n){return{temp:n}},Ze=function(n){return{speed:n}},Ne=function(n){return{humidity:n}},Ve=function(n){return{pressure:n}};let Ye=(()=>{class n{constructor(e){this.weatherService=e}set weather(e){!e||(this.currentWeather=e,this.link=`${this.weatherService.weatherImgUrl()}/${e.icon}.png`)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U.F))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-weather-widget"]],inputs:{selected:"selected",weather:"weather"},decls:27,vars:35,consts:[[1,"weather-widget","p-5","w-full","border-violet-200","border-2","rounded-md","hover:bg-violet-300","cursor-pointer","bg-violet-50",3,"ngClass"],[1,"flex","flex-row","items-center"],[1,"flex","flex-col","justify-center","items-center","pr-8","w-1/2","sm:w-auto"],[1,"rounded-full","bg-violet-400"],[3,"src"],[1,"pb-2"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h1"),t.TgZ(4,"b"),t._uU(5),t.qZA(),t.qZA(),t.TgZ(6,"div",3),t._UZ(7,"img",4),t.qZA(),t.qZA(),t.TgZ(8,"div"),t.TgZ(9,"h4",5),t._uU(10),t.ALo(11,"translate"),t.TgZ(12,"b"),t._uU(13),t.ALo(14,"titlecase"),t.qZA(),t.qZA(),t.TgZ(15,"h4",5),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"h4",5),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"h4",5),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"h4"),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.Q6J("ngClass",t.VKq(25,Le,i.selected)),t.xp6(5),t.Oqu(i.currentWeather.name),t.xp6(2),t.Q6J("src",i.link,t.LSH),t.xp6(3),t.hij("",t.lcZ(11,9,"WEATHER.WIDGET.STATUS")," "),t.xp6(3),t.Oqu(t.lcZ(14,11,i.currentWeather.description)),t.xp6(3),t.Oqu(t.xi3(17,13,"WEATHER.WIDGET.TEMP",t.VKq(27,We,i.currentWeather.temp))),t.xp6(3),t.Oqu(t.xi3(20,16,"WEATHER.WIDGET.WIND",t.VKq(29,Ze,i.currentWeather.windSpeed))),t.xp6(3),t.Oqu(t.xi3(23,19,"WEATHER.WIDGET.HUMIDITY",t.VKq(31,Ne,i.currentWeather.humidity))),t.xp6(3),t.Oqu(t.xi3(26,22,"WEATHER.WIDGET.PRESSURE",t.VKq(33,Ve,i.currentWeather.pressure))))},directives:[f.mk],pipes:[E.X$,f.rS],styles:["@keyframes showAnimation{0%{opacity:0;visibility:hidden}to{opacity:1;visibility:visible}}[_nghost-%COMP%]{animation:.5s ease-in showAnimation;flex:48%;margin:.5em}@media (max-width: 600px){[_nghost-%COMP%]{flex:100%}}"],changeDetection:0}),n})();var qe=h(4393);const Ue=(n,a)=>{const e="#d6bcfa";return new qe.kL(n,{type:"line",options:{plugins:{legend:{display:!1},tooltip:{enabled:!1}},elements:{line:{borderJoinStyle:"round",tension:.5}}},data:{labels:[...a.map(s=>`${s.hour}:00`)],datasets:[{fill:!0,backgroundColor:"rgba(214,188,250,.3)",borderColor:e,pointBorderColor:e,pointBackgroundColor:"#fff",pointBorderWidth:3,pointHoverRadius:5,pointHoverBackgroundColor:e,pointHoverBorderColor:e,pointHoverBorderWidth:4,pointRadius:5,pointHitRadius:10,data:[...a.map(s=>s.temp)],spanGaps:!1}]}})};var k=(()=>{return(n=k||(k={})).TEMP="temp",n.PRESSURE="pressure",n.HUMIDITY="humidity",n.CLOUDS="clouds",k;var n})(),Ke=h(6360),je=h(925);const Je=["*"],ie=new t.OlP("MatChipRemove"),ne=new t.OlP("MatChipAvatar"),ae=new t.OlP("MatChipTrailingIcon");class ze{constructor(a){this._elementRef=a}}const Ge=(0,u.sb)((0,u.pj)((0,u.Kr)(ze),"primary"),-1);let R=(()=>{class n extends Ge{constructor(e,i,s,o,r,c,l,d){super(e),this._ngZone=i,this._changeDetectorRef=r,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new w.x,this._onBlur=new w.x,this.selectionChange=new t.vpe,this.destroyed=new t.vpe,this.removed=new t.vpe,this._addHostClassName(),this._chipRippleTarget=c.createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new u.IR(this,i,this._chipRippleTarget,s),this._chipRipple.setupTriggerEvents(e),this.rippleConfig=o||{},this._animationsDisabled="NoopAnimations"===l,this.tabIndex=null!=d&&parseInt(d)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(e){const i=(0,v.Ig)(e);i!==this._selected&&(this._selected=i,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(e){this._value=e}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(e){this._selectable=(0,v.Ig)(e)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(e){this._disabled=(0,v.Ig)(e)}get removable(){return this._removable}set removable(e){this._removable=(0,v.Ig)(e)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const e="mat-basic-chip",i=this._elementRef.nativeElement;i.hasAttribute(e)||i.tagName.toLowerCase()===e?i.classList.add(e):i.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}toggleSelected(e=!1){return this._selected=!this.selected,this._dispatchSelectionChange(e),this._changeDetectorRef.markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(e){this.disabled&&e.preventDefault()}_handleKeydown(e){if(!this.disabled)switch(e.keyCode){case g.yY:case g.ZH:this.remove(),e.preventDefault();break;case g.L_:this.selectable&&this.toggleSelected(!0),e.preventDefault()}}_blur(){this._ngZone.onStable.pipe((0,S.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(e=!1){this.selectionChange.emit({source:this,isUserInput:e,selected:this._selected})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(je.t4),t.Y36(u.Y2,8),t.Y36(t.sBO),t.Y36(f.K0),t.Y36(Ke.Qb,8),t.$8M("tabindex"))},n.\u0275dir=t.lG2({type:n,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(e,i,s){if(1&e&&(t.Suo(s,ne,5),t.Suo(s,ae,5),t.Suo(s,ie,5)),2&e){let o;t.iGM(o=t.CRH())&&(i.avatar=o.first),t.iGM(o=t.CRH())&&(i.trailingIcon=o.first),t.iGM(o=t.CRH())&&(i.removeIcon=o.first)}},hostAttrs:["role","option",1,"mat-chip","mat-focus-indicator"],hostVars:14,hostBindings:function(e,i){1&e&&t.NdJ("click",function(o){return i._handleClick(o)})("keydown",function(o){return i._handleKeydown(o)})("focus",function(){return i.focus()})("blur",function(){return i._blur()}),2&e&&(t.uIk("tabindex",i.disabled?null:i.tabIndex)("disabled",i.disabled||null)("aria-disabled",i.disabled.toString())("aria-selected",i.ariaSelected),t.ekj("mat-chip-selected",i.selected)("mat-chip-with-avatar",i.avatar)("mat-chip-with-trailing-icon",i.trailingIcon||i.removeIcon)("mat-chip-disabled",i.disabled)("_mat-animation-noopable",i._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[t.qOj]}),n})();const se=new t.OlP("mat-chips-default-options"),it=(0,u.FD)(class{constructor(n,a,e,i){this._defaultErrorStateMatcher=n,this._parentForm=a,this._parentFormGroup=e,this.ngControl=i}});let nt=0;class at{constructor(a,e){this.source=a,this.value=e}}let oe=(()=>{class n extends it{constructor(e,i,s,o,r,c,l){super(c,o,r,l),this._elementRef=e,this._changeDetectorRef=i,this._dir=s,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new w.x,this._uid="mat-chip-list-"+nt++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(d,_)=>d===_,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new t.vpe,this.valueChange=new t.vpe,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){var e,i;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(i=this._selectionModel)||void 0===i?void 0:i.selected[0]}get role(){return this.empty?null:"listbox"}get multiple(){return this._multiple}set multiple(e){this._multiple=(0,v.Ig)(e),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this.writeValue(e),this._value=e}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){var e,i,s,o;return null!==(o=null!==(e=this._required)&&void 0!==e?e:null===(s=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===s?void 0:s.hasValidator(m.kI.required))&&void 0!==o&&o}set required(e){this._required=(0,v.Ig)(e),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=(0,v.Ig)(e),this._syncChipsState()}get selectable(){return this._selectable}set selectable(e){this._selectable=(0,v.Ig)(e),this.chips&&this.chips.forEach(i=>i.chipListSelectable=this._selectable)}set tabIndex(e){this._userTabIndex=e,this._tabIndex=e}get chipSelectionChanges(){return(0,M.T)(...this.chips.map(e=>e.selectionChange))}get chipFocusChanges(){return(0,M.T)(...this.chips.map(e=>e._onFocus))}get chipBlurChanges(){return(0,M.T)(...this.chips.map(e=>e._onBlur))}get chipRemoveChanges(){return(0,M.T)(...this.chips.map(e=>e.destroyed))}ngAfterContentInit(){this._keyManager=new B.Em(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe((0,C.R)(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.tabOut.pipe((0,C.R)(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe((0,L.O)(null),(0,C.R)(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new J(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(e){this._chipInput=e,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",e.id)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}writeValue(e){this.chips&&this._setSelectionByValue(e,!1)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this.stateChanges.next()}onContainerClick(e){this._originatesFromChip(e)||this.focus()}focus(e){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(e),this.stateChanges.next()))}_focusInput(e){this._chipInput&&this._chipInput.focus(e)}_keydown(e){const i=e.target;i&&i.classList.contains("mat-chip")&&(this._keyManager.onKeydown(e),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const e=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(e)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(e){return e>=0&&e<this.chips.length}_setSelectionByValue(e,i=!0){if(this._clearSelection(),this.chips.forEach(s=>s.deselect()),Array.isArray(e))e.forEach(s=>this._selectValue(s,i)),this._sortValues();else{const s=this._selectValue(e,i);s&&i&&this._keyManager.setActiveItem(s)}}_selectValue(e,i=!0){const s=this.chips.find(o=>null!=o.value&&this._compareWith(o.value,e));return s&&(i?s.selectViaInteraction():s.select(),this._selectionModel.select(s)),s}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(e){this._selectionModel.clear(),this.chips.forEach(i=>{i!==e&&i.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(e=>{e.selected&&this._selectionModel.select(e)}),this.stateChanges.next())}_propagateChanges(e){let i=null;i=Array.isArray(this.selected)?this.selected.map(s=>s.value):this.selected?this.selected.value:e,this._value=i,this.change.emit(new at(this,i)),this.valueChange.emit(i),this._onChange(i),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(e=>{e.source.selected?this._selectionModel.select(e.source):this._selectionModel.deselect(e.source),this.multiple||this.chips.forEach(i=>{!this._selectionModel.isSelected(i)&&i.selected&&i.deselect()}),e.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(e=>{let i=this.chips.toArray().indexOf(e.chip);this._isValidIndex(i)&&this._keyManager.updateActiveItem(i),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(e=>{const i=e.chip,s=this.chips.toArray().indexOf(e.chip);this._isValidIndex(s)&&i._hasFocus&&(this._lastDestroyedChipIndex=s)})}_originatesFromChip(e){let i=e.target;for(;i&&i!==this._elementRef.nativeElement;){if(i.classList.contains("mat-chip"))return!0;i=i.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(e=>e._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(e=>{e._chipListDisabled=this._disabled,e._chipListMultiple=this.multiple})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(Q.Is,8),t.Y36(m.F,8),t.Y36(m.sg,8),t.Y36(u.rD),t.Y36(m.a5,10))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-chip-list"]],contentQueries:function(e,i,s){if(1&e&&t.Suo(s,R,5),2&e){let o;t.iGM(o=t.CRH())&&(i.chips=o)}},hostAttrs:[1,"mat-chip-list"],hostVars:15,hostBindings:function(e,i){1&e&&t.NdJ("focus",function(){return i.focus()})("blur",function(){return i._blur()})("keydown",function(o){return i._keydown(o)}),2&e&&(t.Ikx("id",i._uid),t.uIk("tabindex",i.disabled?null:i._tabIndex)("aria-describedby",i._ariaDescribedby||null)("aria-required",i.role?i.required:null)("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-multiselectable",i.multiple)("role",i.role)("aria-orientation",i.ariaOrientation),t.ekj("mat-chip-list-disabled",i.disabled)("mat-chip-list-invalid",i.errorState)("mat-chip-list-required",i.required))},inputs:{errorStateMatcher:"errorStateMatcher",multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",tabIndex:"tabIndex"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[t._Bn([{provide:x.Eo,useExisting:n}]),t.qOj],ngContentSelectors:Je,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(e,i){1&e&&(t.F$t(),t.TgZ(0,"div",0),t.Hsn(1),t.qZA())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove{border:none;-webkit-appearance:none;-moz-appearance:none;padding:0;background:none}.mat-standard-chip .mat-chip-remove.mat-icon,.mat-standard-chip .mat-chip-remove .mat-icon{width:18px;height:18px;font-size:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.cdk-high-contrast-active .mat-standard-chip.mat-chip-selected{outline-width:3px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden;transform:translateZ(0)}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],encapsulation:2,changeDetection:0}),n})(),st=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[u.rD,{provide:se,useValue:{separatorKeyCodes:[g.K5]}}],imports:[[u.BQ]]}),n})();const ot=["lineCanvas"];let rt=(()=>{class n{constructor(e,i){this.fb=e,this.cd=i,this.forecastTypes=k,this.chartConfigFn=Ue}ngOnInit(){this.form=this.fb.group({type:[this.forecastTypes.TEMP]}),this.cd.detectChanges()}ngAfterViewInit(){this.lineChart=this.chartConfigFn(this.lineCanvas.nativeElement,this.forecast.hourly)}onSelect(e){this.lineChart.data.datasets[0].data=this.forecast.hourly.map(i=>i[e.value]),this.lineChart.update(),e.select()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.qu),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-weather-forecast"]],viewQuery:function(e,i){if(1&e&&t.Gf(ot,5),2&e){let s;t.iGM(s=t.CRH())&&(i.lineCanvas=s.first)}},inputs:{name:"name",forecast:"forecast"},decls:24,vars:22,consts:[[1,"p-5","border-violet-200","border-2","rounded-md","bg-violet-50"],["novalidate","",1,"mb-4",3,"formGroup"],["formControlName","type",3,"selectable"],[1,"cursor-pointer",3,"value","click"],["temp","matChip"],["pressure","matChip"],["humidity","matChip"],["clouds","matChip"],["lineCanvas",""]],template:function(e,i){if(1&e){const s=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"h1"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"form",1),t.TgZ(5,"mat-chip-list",2),t.TgZ(6,"mat-chip",3,4),t.NdJ("click",function(){t.CHM(s);const r=t.MAs(7);return i.onSelect(r)}),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"mat-chip",3,5),t.NdJ("click",function(){t.CHM(s);const r=t.MAs(11);return i.onSelect(r)}),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"mat-chip",3,6),t.NdJ("click",function(){t.CHM(s);const r=t.MAs(15);return i.onSelect(r)}),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"mat-chip",3,7),t.NdJ("click",function(){t.CHM(s);const r=t.MAs(19);return i.onSelect(r)}),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.qZA(),t.qZA(),t._UZ(22,"canvas",null,8),t.qZA()}2&e&&(t.xp6(2),t.AsE("",t.lcZ(3,12,"WEATHER.FORECAST.FORECAST_DESC")," ",i.name,""),t.xp6(2),t.Q6J("formGroup",i.form),t.xp6(1),t.Q6J("selectable",!0),t.xp6(1),t.Q6J("value",i.forecastTypes.TEMP),t.xp6(2),t.hij(" ",t.lcZ(9,14,"WEATHER.FORECAST.TEMP")," "),t.xp6(2),t.Q6J("value",i.forecastTypes.PRESSURE),t.xp6(2),t.hij(" ",t.lcZ(13,16,"WEATHER.FORECAST.PRESSURE")," "),t.xp6(2),t.Q6J("value",i.forecastTypes.HUMIDITY),t.xp6(2),t.hij(" ",t.lcZ(17,18,"WEATHER.FORECAST.HUMIDITY")," "),t.xp6(2),t.Q6J("value",i.forecastTypes.CLOUDS),t.xp6(2),t.hij(" ",t.lcZ(21,20,"WEATHER.FORECAST.CLOUDS"),""))},directives:[m._Y,m.JL,m.sg,oe,m.JJ,m.u,R],pipes:[E.X$],styles:["@keyframes showAnimation{0%{opacity:0;visibility:hidden}to{opacity:1;visibility:visible}}[_nghost-%COMP%]{animation:.5s ease-in showAnimation;margin:.5em}"],changeDetection:0}),n})();function lt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"app-weather-widget",5),t.NdJ("click",function(){const s=t.CHM(e),o=s.$implicit,r=s.index;return t.oxw().onSelectedWeather(o,r)}),t.qZA()}if(2&n){const e=a.$implicit,i=a.index,s=t.oxw();t.Q6J("weather",e)("selected",s.selectedIndex===i)}}function ct(n,a){if(1&n&&t._UZ(0,"app-weather-forecast",6),2&n){const e=t.oxw();t.Q6J("forecast",e.forecast)("name",e.forecastName)}}let ht=(()=>{class n{constructor(e,i,s){this.weatherService=e,this.cd=i,this.loader=s,this.weatherList=[]}onSearch(e){this.forecast=null,this.forecastName="",this.selectedIndex=null,this.loader.showLoader(),this.cd.detectChanges(),this.weatherService.getWeatherSummary(e).subscribe(i=>{this.weatherList=i.list.map(s=>P.fromOpenWeather(s)),this.loader.hideLoader(),this.cd.detectChanges()},()=>this.loader.hideLoader())}onSelectedWeather(e,i){this.selectedIndex=i,this.forecastName=e.name,this.forecast=null,this.loader.showLoader(),this.cd.detectChanges(),this.weatherService.getForecast(e.lat,e.lon).subscribe(s=>{this.forecast=F.fromOpenWeather(s),this.loader.hideLoader(),this.cd.detectChanges()},()=>this.loader.hideLoader())}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U.F),t.Y36(t.sBO),t.Y36(he.D))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-weather"]],decls:5,vars:2,consts:[[1,"flex","flex-col","p-5"],[3,"search"],[1,"flex","flex-wrap"],[3,"weather","selected","click",4,"ngFor","ngForOf"],[3,"forecast","name",4,"ngIf"],[3,"weather","selected","click"],[3,"forecast","name"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"app-weather-api-bar",1),t.NdJ("search",function(o){return i.onSearch(o)}),t.qZA(),t.TgZ(2,"div",2),t.YNc(3,lt,1,2,"app-weather-widget",3),t.qZA(),t.YNc(4,ct,1,2,"app-weather-forecast",4),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngForOf",i.weatherList),t.xp6(1),t.Q6J("ngIf",i.forecast))},directives:[Be,f.sg,Ye,f.O5,rt],encapsulation:2,changeDetection:0}),n})();var dt=h(6609),pt=h(520);let ut=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();var mt=h(7429);let le=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[f.ez,u.BQ,ut,mt.eL]]}),n})(),gt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[f.ez,E.aw.forChild(),le]]}),n})();var _t=h(7531),ft=h(1271);let vt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[f.ez,E.aw.forChild(),_t.c,x.lN,K.ot,m.UX,le,ft.ZX,Pe]]}),n})(),Ct=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[f.ez,E.aw.forChild(),st,m.UX,x.lN]]}),n})();const bt=[{path:"",component:ht}];let yt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[f.ez,pt.JF,dt.Bz.forChild(bt),vt,gt,Ct]]}),n})()}}]);